<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Facelet Title</title>
        <style type="text/css">
            table.hovertable {
                font-family: verdana,arial,sans-serif;
                font-size:11px;
                color:#333333;
                border-width: 1px;
                border-color: #999999;
                border-collapse: collapse;
            }
            table.hovertable th {
                background-color:#c3dde0;
                border-width: 1px;
                padding: 8px;
                border-style: solid;
                border-color: #a9c6c9;
            }
            table.hovertable tr {
                background-color:#d4e3e5;
            }
            table.hovertable td {
                border-width: 1px;
                padding: 8px;
                border-style: solid;
                border-color: #a9c6c9;
            }
        </style>
    </h:head>
    <h:body>
        <ui:composition template="../../crmTemplates/afterLoginTemplate.xhtml">
            <ui:define name="contents">
                <div>
                    <h4><p:tabMenu activeIndex="0"  >  
                            <p:menuitem style=" width:  border-box" value="My Profile" styleClass="STYLE2" url="../AccountManagement/afterLogin.xhtml" icon="ui-icon-star"/>  
                            <p:menuitem value="Search Transaction" styleClass="STYLE2" url="../AccountManagement/viewTransactionRecords.xhtml" icon="ui-icon-search" />  
                            <p:menuitem value="View Report" styleClass="STYLE2" url="/ui/tabMenuDocumentation.jsf" icon="ui-icon-document"/>  
                            <p:menuitem value="Edit Profile" styleClass="STYLE2"  url="../AccountManagement/editProfile.xhtml" icon="ui-icon-wrench"/>  
                            <p:menuitem value="Feedback" styleClass="STYLE2" url="../AccountManagement/feedback.xhtml" icon="ui-icon-person" />  
                            <p:menuitem value="Shopping Cart" styleClass="STYLE2" url="#" icon="ui-icon-cart"/>
                            <p:menuitem value="Recommended Advertising" styleClass="STYLE2" url="#" icon="ui-icon-heart"/>
                        </p:tabMenu> </h4>
                    <h:form id="form"> 
                        <table  >
                            <tr>
                                <td width="600" valign="top">
                                    <br></br>

                                    <p style=" font-size:  medium"><strong>Please upload your profile photo.</strong> </p>

                                    <p:fileUpload styleClass="STYLE2" style=" font-size: small; width: 550px " fileUploadListener="#{imageUploadManagedBean.handleImageUpload}" mode="advanced" dragDropSupport="true"  
                                                   update=":form" sizeLimit="10485760" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
                                                   invalidFileMessage="You are allowed to upload only images !"
                                                   invalidSizeMessage="The maxium file size allowed is 10 Megabytes !" />  

                                    <p:growl id="messages" showDetail="true" life="5000"/>  

                                    <br></br>
                                    <br></br><br></br>
                                    <br></br><br></br>
                                
                                    <p:button styleClass="STYLE2" style=" font-size: small" value="Back to main workSpace" href="afterLogin.xhtml"/>
                                </td>
                                <td with="100">
                                    &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
                                </td>
                                <td width="220">
                                    <p:graphicImage width="140" height="150" url="../../resources/cr/images/CRM/customerPhoto/#{imageUploadManagedBean.member.membership.profilePhoto}.jpg"/>

                                    <p></p>
                                    <p>Name  : #{memberAccountManagedBean.member.firstName} #{memberAccountManagedBean.member.lastName}</p>
                                    <p>Email : #{memberAccountManagedBean.member.emailAddr}</p>
                                    <p:commandButton update="form" style=" font-size: small" value="Edit Profiel Photo" icon="ui-icon-wrench" styleClass="submit_btn float_l" />
                                </td>
                            </tr>
                        </table>

                    </h:form>
                </div>



                <div class="cleaner h40"></div>

                <div class="cleaner"></div>

                <div class="cleaner"></div>

            </ui:define>

        </ui:composition>

    </h:body>
</html>

